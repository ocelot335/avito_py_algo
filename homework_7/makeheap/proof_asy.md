подход прост: сначала просто заполняем массив кучи, а потом идя с предпоследненго слоя вызыываем _sift_down для каждого элемента. тогда у нас после этого каждый элемент образует правильную кучу с корнем в себе, потому что для дочерних вершин куча с корнем в них уже подготовилась и _sift_down реализован так, что они достраивает правильную кучу


докажем теперь асимтотику
пусть в массиве n элементов, округлим в верхнюю сторону до 2**k-1, потому что в моей реализации всё 
равно начинается не с самого глубоко уровня, а того который перед ним.
Так n = 2**k-1

пусть корень - уровен k-1, его дети - уровень k-2 и так далее. нижний слой имеет урвоень 0, а над ним уровень 1.
На уроне x у нас 2**(k-x-1) вершин, каждая сделает не более x спусков.
Тогда общее количество спусков не более чем:
sum_x{from 1 to k-1}(x*2**(k-x-1)) = sum_x{from 1 to k-1}((k-1)*2**(k-x-1)-(k-x-1)*2**(k-x-1))
=(k-1)*sum_x{from 1 to k-1}(2**(k-x-1)) - sum_x{from 1 to k-1}((k-x-1)*2**(k-x-1))
=(k-1)*sum_x{from 0 to k-2}(2**(x)) - sum_x{from 0 to k-2}((x)*2**(x))
=(k-1)*(2**(k-1)-1) - sum_x{from 1 to k-2}(sum_r{from x to k-2}(2**(r)))
=(k-1)*(2**(k-1)-1) - sum_x{from 1 to k-2}(2**(x)*sum_r{from 0 to k-2-x}(2**(r)))
=(k-1)*(2**(k-1)-1) - sum_x{from 1 to k-2}(2**(x)*(2**(k-1-x)-1))
=(k-1)*(2**(k-1)-1) - sum_x{from 1 to k-2}((2**(k-1)-2**(x)))
=2**(k-1)-(k-1) + sum_x{from 1 to k-2}((2**(x)))
=2**(k-1)-(k-1) + 2*(2**(k-2)-1)
=2**k-k-1 = O(n)